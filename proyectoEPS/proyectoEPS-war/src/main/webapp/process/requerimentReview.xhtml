<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="../templates/template-one.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:o="http://omnifaces.org/ui">

    <f:metadata>
        <o:viewParam name="idRequeriment" required="true" value="#{requerimentReviewView.processId}"
                     requiredMessage="Ningun valor">
            <o:viewParamValidationFailed sendError="404" message="Error parametro"/>
        </o:viewParam>
        <o:viewAction action="#{requerimentReviewView.loadCurrentProcess()}" />
    </f:metadata>

    <ui:define name="title">
        Revision Requisitos
    </ui:define>

    <ui:define name="content">
        <h:form id="frmLogin">            
            <p:focus id="focuss" context="frmLogin" />
            <p:messages  globalOnly="true"/>
            <fieldset class="center-block">
                <legend>Revisar Requisitos</legend> 
                <div class="row">
                    <div class="form-group col-sm-4">
                        <p:outputLabel value="Carta de Solicitud EPS Escritas:" /><br></br>
                        <h:commandLink value="Descargar Documento"  target="_blank">
                            <p:fileDownload value="#{requerimentReviewView.writtenRequest}" contentDisposition="inline"/>
                        </h:commandLink>    
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-4">
                        <p:outputLabel value="Constancia de Inscripcion:" /><br></br>
                        <h:commandLink value="Descargar Documento"  target="_blank">
                            <p:fileDownload value="#{requerimentReviewView.inscriptionConstancy}" contentDisposition="inline"/>
                        </h:commandLink>       
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-4">
                        <p:outputLabel value="Constancia de Cierre de Pensum:" /><br></br>
                        <h:commandLink value="Descargar Documento"  target="_blank">
                            <p:fileDownload value="#{requerimentReviewView.pensumeClosure}" contentDisposition="inline"/>
                        </h:commandLink>     
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-4">
                        <p:outputLabel value="Constancia de Propedeutico:" /><br></br>
                        <h:commandLink value="Descargar Documento"  target="_blank">
                            <p:fileDownload value="#{requerimentReviewView.propedeuticConstancy}" contentDisposition="inline"/>
                        </h:commandLink>     
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-4">
                        <p:outputLabel value="Constancia de Pre Proyecto:" /><br></br>
                        <h:commandLink value="Descargar Documento"  target="_blank">
                            <p:fileDownload value="#{requerimentReviewView.epsPreProject}" contentDisposition="inline"/>
                        </h:commandLink>     
                    </div>
                </div>
                <div class="row" >
                    <div class="form-group col-sm-4">
                        <p:outputLabel value="Documento Finiquito de AEIO:" /><br></br>
                        <h:commandLink value="Descargar Documento"  target="_blank" rendered="#{requerimentReviewView.showAeioSettlement}">
                            <p:fileDownload value="#{requerimentReviewView.aeioSettlement}" contentDisposition="inline"/>
                        </h:commandLink>   
                    </div>
                </div>
                <br></br><br></br>
                <div class="row">
                    <div class="form-group col-sm-4">
                        <button styleClass="btn btn-primary"
                                       update="@form,:growl" 
                                       jsf:outcome="processes">
                            <span class="glyphicon glyphicon-remove"></span> Rechazar
                        </button>
                        <button styleClass="btn btn-primary"
                                       oncomplete="PF('dlgEdit').show();"
                                       jsf:outcome="processes"
                                       >
                            <span class="glyphicon glyphicon-ok"></span> Solicitar Cambios
                        </button>
                        <button styleClass="btn btn-primary"
                                       update="@form,:growl" 
                                       action="#{requerimentReviewView.aceptar()}"
                                       jsf:outcome="processes">
                            <span class="glyphicon glyphicon-ok"></span> Aceptar
                        </button>
                    </div>
                </div>
            </fieldset>
        </h:form>
    </ui:define>

</ui:composition>


